# 贡献指南 / Contributing Guide

感谢你考虑为 XMU C/C++ 语言课程教学资料库做出贡献！本文档提供了参与贡献的指导方针。

## 📋 目录

- [行为准则](#行为准则)
- [如何贡献](#如何贡献)
- [贡献类型](#贡献类型)
- [提交规范](#提交规范)
- [文件组织规范](#文件组织规范)
- [编码规范](#编码规范)

---

## 🤝 行为准则

### 我们的承诺

为了营造一个开放友好的环境，我们承诺：

- 尊重不同观点和经验
- 优雅地接受建设性批评
- 关注对社区最有利的事情
- 对其他社区成员表示同理心

### 不可接受的行为

- 使用带有性意味的语言或图像
- 人身攻击或政治攻击
- 公开或私下骚扰
- 未经许可发布他人的私人信息
- 其他在专业环境中被认为不适当的行为

---

## 💡 如何贡献

### 报告问题

发现以下问题时，请创建 Issue：

- **代码错误**：教材或示例代码中的错误
- **文档问题**：README 或其他文档中的错误、拼写问题
- **链接失效**：文档中的链接无法访问
- **内容缺失**：缺少重要的学习资源或说明

**创建 Issue 时请包含**：
- 清晰的标题
- 详细的问题描述
- 如果是代码错误，提供：
  - 文件位置
  - 错误代码片段
  - 预期行为 vs 实际行为
- 相关截图（如适用）

### 提出新功能

想要添加新的学习资源或改进？

1. 先创建一个 Issue 讨论你的想法
2. 等待维护者反馈
3. 获得认可后再开始实施

---

## 🎯 贡献类型

### 1. 添加学习资料

**欢迎贡献**：
- 新的教程笔记
- 学习心得和总结
- 代码注释和解释
- 难点知识点讲解

**提交位置**：
- 教程文档：`tutorials/`
- 代码示例：`course-code/`
- 参考资料：`cpp-materials/reference/`

**要求**：
- 内容准确无误
- 格式规范统一
- 包含适当的示例
- 中文为主，代码注释可中英文

### 2. 完善文档

**欢迎改进**：
- 修正拼写错误
- 改进表述和格式
- 添加缺失的说明
- 更新过时信息

**文档位置**：
- 主文档：`README.md`
- 子目录文档：各目录的 `README.md`
- 辅助文档：`docs/`

### 3. 贡献代码

**欢迎贡献**：
- 修复代码错误
- 优化代码实现
- 添加代码注释
- 新的练习题目

**代码位置**：
- 课堂代码：`course-code/`
- 项目代码：`tutorials/projects/`

**要求**：
- 代码能正确编译运行
- 包含必要的注释
- 遵循现有代码风格
- 提供测试用例（如适用）

### 4. 贡献试题

**欢迎贡献**：
- 历年试题
- 模拟试题
- 试题详解
- 评分标准

**试题位置**：
- C 语言：`exams/c-language/`
- C++：`exams/cpp/`

**要求**：
- 标注年份和学期
- 包含答案或解析
- PDF 或 Word 格式
- 文件命名规范

---

## 📝 提交规范

### Git 工作流程

1. **Fork 本仓库**
   ```bash
   # 在 GitHub 页面点击 Fork 按钮
   ```

2. **克隆你的 Fork**
   ```bash
   git clone https://github.com/YOUR_USERNAME/XMU_C_language_PeerTeacher.git
   cd XMU_C_language_PeerTeacher
   ```

3. **创建功能分支**
   ```bash
   git checkout -b feature/your-feature-name
   # 或者修复bug
   git checkout -b fix/bug-description
   ```

4. **进行修改**
   - 编辑文件
   - 测试你的修改
   - 确保没有破坏现有功能

5. **提交修改**
   ```bash
   git add .
   git commit -m "描述你的修改"
   ```

6. **推送到你的 Fork**
   ```bash
   git push origin feature/your-feature-name
   ```

7. **创建 Pull Request**
   - 在 GitHub 上打开你的 Fork
   - 点击 "New Pull Request"
   - 填写 PR 描述

### Commit 消息规范

使用清晰的 commit 消息：

**格式**：
```
<类型>: <简短描述>

<详细描述>（可选）
```

**类型**：
- `feat`: 新功能
- `fix`: 修复错误
- `docs`: 文档修改
- `style`: 格式调整（不影响代码逻辑）
- `refactor`: 重构代码
- `test`: 添加测试
- `chore`: 构建过程或辅助工具的变动

**示例**：
```
feat: 添加C++模板编程教程

在 cpp-materials/reference/ 目录下添加了关于函数模板
和类模板的详细教程，包含多个实际示例。
```

```
fix: 修正链表反转代码中的内存泄漏

在 course-code/2024_12_18_course_12/reverse.cpp 中修复
了未释放临时节点导致的内存泄漏问题。
```

### Pull Request 规范

**标题**：简洁描述你的修改

**描述应包含**：
- 修改的内容和原因
- 相关的 Issue 编号（如有）
- 测试情况
- 截图（如适用）

**示例**：
```markdown
## 修改内容
添加了 C++ STL 容器的使用示例

## 相关 Issue
Closes #123

## 测试
- [x] 代码编译通过
- [x] 所有示例运行正确
- [x] 文档格式正确

## 截图
（如果有界面变化，添加截图）
```

---

## 📁 文件组织规范

### 目录结构

遵循现有的目录结构：

```
tutorials/          # 教学资料
├── c-basics/       # 基础教程
├── slides/         # 课件
└── projects/       # 项目

course-code/        # 课堂代码
└── archive-original/

exams/              # 考试资料
├── c-language/
└── cpp/

cpp-materials/      # C++资料
├── slides/
├── review/
└── reference/
```

### 文件命名规范

**Markdown 文件**：
- 使用小写字母
- 单词间用短横线连接
- 例：`learning-path.md`, `quick-start.md`

**代码文件**：
- C 文件：`.c` 扩展名
- C++ 文件：`.cpp` 扩展名
- 头文件：`.h` 扩展名
- 描述性命名：`linked_list.c`, `student_manager.cpp`

**试题文件**：
- 格式：`YYYY年份_类型_说明.pdf`
- 例：`2024_期中试题.pdf`, `2019_期末试题（含答案）.doc`

### README 文档规范

每个主要目录应包含 `README.md`：

**必须包含**：
- 标题和简介
- 目录结构说明
- 内容概览
- 使用指南
- 返回主目录的链接

**格式要求**：
- 使用 Markdown 语法
- 标题层级清晰
- 代码块使用适当的语言标识
- 表格格式整齐

---

## 💻 编码规范

### C/C++ 代码规范

**基本规范**：
```c
// 1. 缩进：使用 4 个空格
int main() {
    int x = 10;  // 正确
  int y = 20;    // 错误：缩进不一致
}

// 2. 命名：使用有意义的名称
int count;           // 正确
int c;               // 错误：不清晰

// 3. 注释：关键逻辑添加注释
// 计算数组的平均值
double average = sum / count;

// 4. 函数：每个函数只做一件事
// 正确：函数功能单一
int findMax(int arr[], int size);

// 错误：函数做了太多事情
void processDataAndPrintResult();
```

**指针规范**：
```c
int *ptr;      // 推荐：* 靠近类型
int* ptr;      // 也可以，但要保持一致
int * ptr;     // 不推荐

// 释放指针后置空
free(ptr);
ptr = NULL;
```

**错误处理**：
```c
FILE *fp = fopen("data.txt", "r");
if (fp == NULL) {
    perror("文件打开失败");
    return -1;
}
// ... 使用文件
fclose(fp);
```

### 文档编写规范

**Markdown 规范**：
```markdown
# 一级标题

## 二级标题

### 三级标题

- 列表项 1
- 列表项 2

**粗体文本**

*斜体文本*

`行内代码`

\```c
// 代码块
int main() {
    return 0;
}
\```
```

**链接规范**：
```markdown
# 相对路径（同仓库内）
[教程目录](tutorials/README.md)
[课堂代码](course-code/README.md)

# 绝对路径（外部链接）
[C语言参考](https://zh.cppreference.com/w/c)
```

---

## ✅ 检查清单

提交前请检查：

### 代码贡献
- [ ] 代码能够编译通过
- [ ] 代码运行正确
- [ ] 添加了必要的注释
- [ ] 遵循现有代码风格
- [ ] 没有引入新的警告或错误

### 文档贡献
- [ ] 没有拼写错误
- [ ] Markdown 格式正确
- [ ] 链接都能正常访问
- [ ] 表格和列表格式整齐
- [ ] 代码块使用了正确的语言标识

### 通用检查
- [ ] 文件编码为 UTF-8
- [ ] 文件命名符合规范
- [ ] 提交消息清晰准确
- [ ] PR 描述完整

---

## 🙏 致谢

感谢所有贡献者让这个项目变得更好！

你的每一个贡献，无论大小，都对学习者有巨大帮助。

### 贡献者名单

感谢以下贡献者（按首次贡献时间排序）：

<!-- 这里会自动列出贡献者 -->

---

## 📞 联系方式

有任何问题？

- 创建 [Issue](../../issues)
- 发起 [Discussion](../../discussions)
- 联系仓库维护者

---

## 📜 许可证

贡献的内容将在与本项目相同的许可证下发布。

---

<div align="center">

**再次感谢你的贡献！🎉**

[返回主目录](README.md)

</div>
